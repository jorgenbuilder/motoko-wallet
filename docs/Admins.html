<!DOCTYPE html>
<html><head title="Doc"><meta charset="UTF-8"/><link href="styles.css" rel="stylesheet"/></head><body><nav class="sidebar"><h3>Modules</h3><ul><li><li><a href="Admins.html">Admins</a></li></li><li><li><a href="Wallet.html">Wallet</a></li></li></ul><h3>Declarations</h3><ul><li><li><a href="#type.Factory">Factory</a></li></li><li><li><a href="#type.StableState">StableState</a></li></li><li><li><a href="#type.Dependencies">Dependencies</a></li></li><li><li><a href="#type.State">State</a></li></li><li><li><a href="#type.Interface">Interface</a></li></li></ul></nav><div class="documentation"><h1>Admins</h1><p>Provides administrative access control and administrator management.</p>
<div class="declaration"><h4 class="class-declaration" id="type.Factory"><span class="keyword">class </span><span class="classname">Factory</span>(<span class="parameter">state</span> : <a href="#type.State"><span class="type">State</span></a>)</h4><div class="declaration"><h4 class="function" id="Factory.backup"><code><span class="keyword">public func </span><span class="fnname">backup</span>() : [<span class="type">Principal</span>]</code></h4><p><p>Returns all state of the admin module.</p>
</p></div><div class="declaration"><h4 class="function" id="Factory.restore"><code><span class="keyword">public func </span><span class="fnname">restore</span>(<span class="parameter">backup</span> : <a href="#type.StableState"><span class="type">StableState</span></a>) : ()</code></h4><p><p>Restores state of admin module from backup.</p>
</p></div><div class="declaration"><h4 class="function" id="Factory._isAdmin"><code><span class="keyword">public func </span><span class="fnname">_isAdmin</span>(<span class="parameter">p</span> : <span class="type">Principal</span>) : <span class="type">Bool</span></code></h4><p><p>Use this to add an admin-only restriction.
ex: assert(_isAdmin(caller));</p>
</p></div><div class="declaration"><h4 class="function" id="Factory.addAdmin"><code><span class="keyword">public func </span><span class="fnname">addAdmin</span>(<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">p</span> : <span class="type">Principal</span>) : ()</code></h4><p><p>Adds a new principal as an admin.</p>
</p></div><div class="declaration"><h4 class="function" id="Factory.removeAdmin"><code><span class="keyword">public func </span><span class="fnname">removeAdmin</span>(<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">p</span> : <span class="type">Principal</span>) : ()</code></h4><p><p>Removes the given principal from the list of admins.</p>
</p></div><div class="declaration"><h4 class="function" id="Factory.isAdmin"><code><span class="keyword">public func </span><span class="fnname">isAdmin</span>(<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">p</span> : <span class="type">Principal</span>) : <span class="type">Bool</span></code></h4><p><p>Check whether the given principal is an admin.</p>
</p></div><div class="declaration"><h4 class="function" id="Factory.getAdmins"><code><span class="keyword">public func </span><span class="fnname">getAdmins</span>() : [<span class="type">Principal</span>]</code></h4><p><p>Return a list of all admins.</p>
</p></div><p></p></div><div class="declaration"><h4 class="type-declaration" id="type.StableState"><span class="keyword">type </span><span class="type">StableState</span> = { s_admins : [<span class="type">Principal</span>] }</h4><p><p>Stable state utilized by this module.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Dependencies"><span class="keyword">type </span><span class="type">Dependencies</span> = { _log : (<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">method</span> : <span class="type">Text</span>, <span class="parameter">message</span> : <span class="type">Text</span>) -&gt; () }</h4><p><p>External state and functions utilized by this module.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.State"><span class="keyword">type </span><span class="type">State</span> = <a href="#type.StableState"><span class="type">StableState</span></a> and <a href="#type.Dependencies"><span class="type">Dependencies</span></a></h4><p><p>Total state utilized by this module.</p>
</p></div><div class="declaration"><h4 class="type-declaration" id="type.Interface"><span class="keyword">type </span><span class="type">Interface</span> = { _isAdmin : (<span class="parameter">p</span> : <span class="type">Principal</span>) -&gt; <span class="type">Bool</span>; addAdmin : (<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">p</span> : <span class="type">Principal</span>) -&gt; (); removeAdmin : (<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">p</span> : <span class="type">Principal</span>) -&gt; (); isAdmin : (<span class="parameter">caller</span> : <span class="type">Principal</span>, <span class="parameter">p</span> : <span class="type">Principal</span>) -&gt; <span class="type">Bool</span> }</h4><p></p></div></div></body></html>